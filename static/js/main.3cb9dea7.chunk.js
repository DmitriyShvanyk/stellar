(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{115:function(e,t,r){e.exports={spinner:"spinner_spinner__1EIGT",spinnerRotate:"spinner_spinnerRotate__3jBMu"}},117:function(e,t,r){e.exports={title:"title_title__KiY95"}},12:function(e,t,r){e.exports={ingredientDetails:"ingredient-details_ingredientDetails__1CH1B",ingredientDetails__body:"ingredient-details_ingredientDetails__body__17ml7",ingredientDetails__name:"ingredient-details_ingredientDetails__name__1HtEM",ingredientDetails__pict:"ingredient-details_ingredientDetails__pict__wd9Jh",ingredientDetails__img:"ingredient-details_ingredientDetails__img__1KvYw",ingredientDetails__list:"ingredient-details_ingredientDetails__list__3P9Bb",ingredientDetails__item:"ingredient-details_ingredientDetails__item__3yGm_",ingredientDetails__text:"ingredient-details_ingredientDetails__text__3SI6d",ingredientDetails__value:"ingredient-details_ingredientDetails__value__2tH9h"}},120:function(e,t,r){e.exports={modalOverlay:"modal-overlay_modalOverlay__3SvpP",animModalOverlay:"modal-overlay_animModalOverlay__VVNEV"}},121:function(e,t,r){e.exports={loader:"loader_loader__3YIYB",loadingRotate:"loader_loadingRotate__Frfgb"}},122:function(e,t,r){e.exports={orderList:"order-list_orderList__3HjfY"}},123:function(e,t,r){e.exports={feed:"page-feed_feed__26mOY"}},124:function(e,t,r){e.exports={pageFeedCard:"page-feed-card_pageFeedCard__dHia1"}},125:function(e,t,r){e.exports={pageOrderHistory:"page-order-history_pageOrderHistory__2BWS8"}},126:function(e,t,r){e.exports={pageOrderHistoryCard:"page-order-history-card_pageOrderHistoryCard__z6ffb"}},127:function(e,t,r){e.exports={app:"app_app__1Q26p"}},13:function(e,t,r){e.exports={appHeader:"app-header_appHeader__2U0Af",appHeader__container:"app-header_appHeader__container__1ujkh",appHeader__body:"app-header_appHeader__body__3Wchb",appHeader__logo:"app-header_appHeader__logo__2a_oJ",appHeader__btn:"app-header_appHeader__btn__1dMBm",appHeader__btnProfile:"app-header_appHeader__btnProfile__3RzMQ",appHeader__hamburger:"app-header_appHeader__hamburger__j4TWp",appHeader__close:"app-header_appHeader__close__2H-Fg",appHeader__head:"app-header_appHeader__head__3HCi4",appHeader__btnTextBurgers:"app-header_appHeader__btnTextBurgers__2APC8",appHeader__title:"app-header_appHeader__title___MtCV",appHeader__email:"app-header_appHeader__email__2y9vH",appHeader__collapse:"app-header_appHeader__collapse__mE0Ep",showCollapse:"app-header_showCollapse__3HksW",appHeader__collapseActive:"app-header_appHeader__collapseActive__2X0Py"}},14:function(e,t,r){e.exports={orderInfo:"order-info_orderInfo__QLRHG",orderInfo__id:"order-info_orderInfo__id__2WyNF",orderInfo__title:"order-info_orderInfo__title__2d9mj",orderInfo__status:"order-info_orderInfo__status__1ZXbE",orderInfo__statusCancel:"order-info_orderInfo__statusCancel__fbwTJ",orderInfo__statusReady:"order-info_orderInfo__statusReady__2SB_D",orderInfo__statusProcess:"order-info_orderInfo__statusProcess__1kkSm",orderInfo__structure:"order-info_orderInfo__structure__XfYuf",orderInfo__list:"order-info_orderInfo__list__Uec10",orderInfo__item:"order-info_orderInfo__item__jyNS4",orderInfo__foot:"order-info_orderInfo__foot__2kF17",orderInfo__box:"order-info_orderInfo__box__2eD5G",orderInfo__block:"order-info_orderInfo__block__31au_",orderInfo__pict:"order-info_orderInfo__pict__1Ljrj",orderInfo__img:"order-info_orderInfo__img__1xto0",orderInfo__price:"order-info_orderInfo__price__279WZ",orderInfo__date:"order-info_orderInfo__date__1BXNT"}},16:function(e,t,r){e.exports={feedInfo:"feed-info_feedInfo__1cNwp",feedInfo__statuses:"feed-info_feedInfo__statuses__199nK",feedInfo__title:"feed-info_feedInfo__title__1YisT",feedInfo__ready:"feed-info_feedInfo__ready__2HSJX",feedInfo__work:"feed-info_feedInfo__work__Axu8N",feedInfo__item:"feed-info_feedInfo__item__pAXIg",feedInfo__block:"feed-info_feedInfo__block__18Gf2",feedInfo__num:"feed-info_feedInfo__num__3smyw"}},17:function(e,t,r){e.exports={burgerConstructor:"burger-constructor_burgerConstructor__3lWHW",burgerConstructor__head:"burger-constructor_burgerConstructor__head__2wv7J",burgerConstructor__foot:"burger-constructor_burgerConstructor__foot__1-v2z",burgerConstructor__item:"burger-constructor_burgerConstructor__item__3TBgL",burgerConstructor__drag:"burger-constructor_burgerConstructor__drag__2R3dq",burgerConstructor__inner:"burger-constructor_burgerConstructor__inner__2P8lO",burgerConstructor__body:"burger-constructor_burgerConstructor__body__1i8cj",burgerConstructor__bottom:"burger-constructor_burgerConstructor__bottom__2cjBn",burgerConstructor__order:"burger-constructor_burgerConstructor__order__3mUMe",burgerConstructor__add:"burger-constructor_burgerConstructor__add__dQcZq",burgerConstructor__previews:"burger-constructor_burgerConstructor__previews__2mpjO",burgerConstructor__preview:"burger-constructor_burgerConstructor__preview__2AJ0i"}},18:function(e,t,r){e.exports={order:"order_order__2WUfA",order__head:"order_order__head__1qH6b",order__body:"order_order__body__21R8G",order__date:"order_order__date__26TCb",order__title:"order_order__title__3fN4o",order__status:"order_order__status__2OaTQ",order__picts:"order_order__picts__1ta59",order__pict:"order_order__pict__eCyyS",order__img:"order_order__img__1nfxr",order__amount:"order_order__amount__9JsXl",order__block:"order_order__block__1vpdN",order__price:"order_order__price__3ko8-"}},212:function(e,t,r){},213:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(40),o=r.n(c),s=r(6),i=r(50),d=r(114),u=r(32),l=r(65),_=r(2),j=r(4),b=r.n(j),p=r(9),m="https://norma.nomoreparties.space/api",f="".concat(m,"/auth"),O="".concat(m,"/ingredients"),h="".concat(m,"/orders"),g="".concat(m,"/password-reset"),x="".concat(g,"/reset"),v="".concat(f,"/register"),y="".concat(f,"/login"),N="".concat(f,"/logout"),I="".concat(f,"/token"),C="".concat(f,"/user"),w="wss://norma.nomoreparties.space/orders",E="".concat(w,"?token="),S="".concat(w,"/all"),k="GET_DATA_REQUEST",D="GET_DATA_SUCCESS",T="GET_DATA_FAILED",L="ADD_BUN",R="ADD_ITEM",H="DEL_ITEM",A="ACTION_ITEM",P="RESET_STATE",F={bun:null,data:[],items:[],isLoading:!1,hasError:!1};function M(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([$?*|{}\]\\^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function U(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(r=r||{}).expires;if("number"==typeof n&&n){var a=new Date;a.setTime(a.getTime()+1e3*n),n=r.expires=a}n&&n.toUTCString&&(r.expires=n.toUTCString());var c=e+"="+(t=encodeURIComponent(t));for(var o in r){c+="; "+o;var s=r[o];!0!==s&&(c+="="+s)}document.cookie=c}function B(e){U(e,"",{expires:-1})}var G=function(e){return"done"===e?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d":"created"===e?"\u0421\u043e\u0437\u0434\u0430\u043d":"pending"===e&&"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"},z=function(e){return"done"===e?"#00CCCC":"#FFFFFF"},q="REGISTER_REQUEST",J="REGISTER_SUCCESS",W="REGISTER_FAILED",Q="LOGIN_REQUEST",X="LOGIN_SUCCESS",Y="LOGIN_FAILED",K="LOGOUT_REQUEST",Z="LOGOUT_SUCCESS",V="LOGOUT_FAILED",$="GET_USER_REQUEST",ee="GET_USER_SUCCESS",te="GET_USER_FAILED",re="UPDATE_USER_REQUEST",ne="UPDATE_USER_SUCCESS",ae="UPDATE_USER_FAILED",ce="FORGOT_PASSWORD_REQUEST",oe="FORGOT_PASSWORD_SUCCESS",se="FORGOT_PASSWORD_FAILED",ie="RESET_PASSWORD_REQUEST",de="RESET_PASSWORD_SUCCESS",ue="RESET_PASSWORD_FAILED",le=function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))},_e=function(e){var t=e.accessToken.split("Bearer ")[1],r=e.refreshToken;U("accessToken",t),U("refreshToken",r)},je={Accept:"application/json","Content-Type":"application/json",authorization:M("refreshToken")},be=function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(I,{method:"POST",headers:je,body:JSON.stringify({token:M("refreshToken")})});case 2:return t=e.sent,e.next=5,le(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(p.a)(b.a.mark((function e(t,r){var n,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,r);case 3:return n=e.sent,e.next=6,le(n);case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(0),"jwt expired"!==e.t0.message){e.next=24;break}return e.next=14,be();case 14:return a=e.sent,_e(a),e.next=18,fetch(t,r);case 18:return c=e.sent,e.next=21,le(c);case 21:return e.abrupt("return",e.sent);case 24:return e.abrupt("return",Promise.reject(e.t0));case 25:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}(),me=function(){return function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:$}),e.next=3,pe(C,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",authorization:"Bearer ".concat(M("accessToken"))}}).then(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=6;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 6:throw new Error("Something went wrong");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){e&&e.success&&(e.accessToken&&_e(e),t({type:ee,user:e.user}))})).catch((function(){t({type:te})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fe={user:null,isLoggined:!!M("accessToken"),isForgotPasswordRequest:!1,isResetPasswordRequest:!1,isLoading:!1,isLogout:!1},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!0});case J:return Object(_.a)(Object(_.a)({},e),{},{user:t.user,isLoggined:!0,isLoading:!1});case W:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!1});case Q:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!0});case X:return Object(_.a)(Object(_.a)({},e),{},{user:t.user,isLoggined:!0,isLoading:!1});case Y:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!1});case K:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!0,isLogout:!0});case Z:return Object(_.a)(Object(_.a)({},e),{},{user:null,isLoggined:!1,isLoading:!1,isLogout:!1});case V:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!1,isLogout:!1});case $:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!0});case ee:return Object(_.a)(Object(_.a)({},e),{},{user:t.user,isLoggined:!0,isLoading:!1});case te:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!1});case re:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!0});case ne:return Object(_.a)(Object(_.a)({},e),{},{user:t.user,isLoggined:!0,isLoading:!1});case ae:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!1});case ce:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!0});case oe:return Object(_.a)(Object(_.a)({},e),{},{isForgotPasswordRequest:!0,isLoading:!1});case se:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!1});case ie:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!0});case de:return Object(_.a)(Object(_.a)({},e),{},{isResetPasswordRequest:!0,isLoading:!1});case ue:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!1});default:return e}},he="GET_ORDER_NUMBER_REQUEST",ge="GET_ORDER_NUMBER_SUCCESS",xe="GET_ORDER_NUMBER_FAILED",ve="SET_ORDER_ITEMS",ye={orderId:null,itemsId:[],isLoading:!1},Ne="GET_ORDER_INFO_REQUEST",Ie="GET_ORDER_INFO_SUCCESS",Ce="GET_ORDER_INFO_FAILED",we=function(e){return function(){var t=Object(p.a)(b.a.mark((function t(r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:Ne}),t.next=3,fetch("".concat(h,"/").concat(e)).then(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=6;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 6:throw new Error("Something went wrong");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){e&&e.success&&r({type:Ie,order:e.data.orders[0]})})).catch((function(){r({type:Ce})}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ee={order:[],isLoading:!1},Se="WS_CONNECTION_START",ke="WS_CONNECTION_CLOSE",De="WS_CONNECTION_SUCCESS",Te="WS_CONNECTION_ERROR",Le="WS_CONNECTION_CLOSED",Re="WS_GET_ORDERS",He={orders:[],total:0,totalToday:0,wsConnected:!1,wsError:!1},Ae="OPEN_DATA_MODAL",Pe="CLOSE_DATA_MODAL",Fe=function(){return{type:Ae}},Me={isModalDataOpened:!1},Ue="OPEN_ORDER_MODAL",Be="CLOSE_ORDER_MODAL",Ge={isModalOrderOpened:!1},ze="OPEN_FEED_MODAL",qe="CLOSE_FEED_MODAL",Je={isModalFeedOpened:!1},We=Object(u.b)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!0,hasError:!1});case D:return Object(_.a)(Object(_.a)({},e),{},{data:Array.from(t.data),isLoading:!1,hasError:!1});case T:return Object(_.a)(Object(_.a)({},e),{},{data:[],isLoading:!1,hasError:!0});case L:return Object(_.a)(Object(_.a)({},e),{},{bun:t.bun});case R:return Object(_.a)(Object(_.a)({},e),{},{items:[].concat(Object(l.a)(e.items),[Object(_.a)(Object(_.a)({},t.item),{},{constructorItemId:t.constructorItemId})])});case H:return Object(_.a)(Object(_.a)({},e),{},{items:Object(l.a)(e.items.filter((function(e){return e.constructorItemId!==t.itemId})))});case A:var r=Object(l.a)(e.items),n=r[t.dragIndex],a=r[t.hoverIndex];return r[t.hoverIndex]=n,r[t.dragIndex]=a,Object(_.a)(Object(_.a)({},e),{},{items:r});case P:return Object(_.a)(Object(_.a)({},e),{},{bun:null,items:[]});default:return e}},user:Oe,orderNumber:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!0});case ge:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!1,orderId:t.orderId});case xe:return Object(_.a)(Object(_.a)({},e),{},{orderId:null,isLoading:!1});case ve:return Object(_.a)(Object(_.a)({},e),{},{itemsId:t.itemsId});default:return e}},orderInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!0});case Ie:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!1,order:t.order});case Ce:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!1});default:return e}},feed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De:return Object(_.a)(Object(_.a)({},e),{},{wsConnected:!0,wsError:!1});case Te:return Object(_.a)(Object(_.a)({},e),{},{wsConnected:!1,wsError:!0});case Le:return Object(_.a)(Object(_.a)({},e),{},{wsConnected:!1,wsError:!1});case Re:var r=t.payload,n=r.orders,a=r.total,c=r.totalToday;return Object(_.a)(Object(_.a)({},e),{},{orders:n,total:a,totalToday:c});default:return e}},modalData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return{isModalDataOpened:!0};case Pe:return{isModalDataOpened:!1};default:return e}},modalOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return{isModalOrderOpened:!0};case Be:return{isModalOrderOpened:!1};default:return e}},modalFeed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze:return{isModalFeedOpened:!0};case qe:return{isModalFeedOpened:!1};default:return e}}}),Qe=function(e){return{type:Se,payload:e}},Xe=function(){return{type:ke}},Ye=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):u.c)(Object(u.a)(d.a),Object(u.a)((function(e){var t=null;return function(r){return function(n){var a,c=e.dispatch,o=n.type,s=n.payload;o===Se&&(t=new WebSocket(s)),o===ke&&(null===(a=t)||void 0===a||a.close()),t&&(t.onopen=function(){return c({type:De})},t.onerror=function(e){return c(function(e){return{type:Te,payload:e}}(e))},t.onclose=function(){return c({type:Le})},t.onmessage=function(e){return c((t=JSON.parse(e.data),{type:Re,payload:t}));var t}),r(n)}}}))),Ke=Object(u.d)(We,Ye),Ze=r(11),Ve=function(){return Object(i.b)()},$e=i.c,et=r(220),tt=r(128),rt=r(7),nt=r(5),at=r(84),ct=r(83),ot=r(115),st=r.n(ot),it=r(0),dt=function(){return Object(it.jsx)("div",{className:st.a.spinner})},ut=r(30),lt=r.n(ut),_t=function(){var e=Ve(),t=$e((function(e){return e.user})),r=t.isLoading,n=t.isLogout;return Object(it.jsxs)("ul",{className:lt.a.menu,children:[Object(it.jsx)("li",{className:lt.a.menu__item,children:Object(it.jsx)(s.c,{exact:!0,className:lt.a.menu__link,activeClassName:lt.a.menu__linkActive,to:"/profile",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(it.jsx)("li",{className:lt.a.menu__item,children:Object(it.jsx)(s.c,{exact:!0,className:lt.a.menu__link,activeClassName:lt.a.menu__linkActive,to:"/profile/orders",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(it.jsx)("li",{className:lt.a.menu__item,children:Object(it.jsxs)("a",{href:"#",className:lt.a.menu__link,onClick:function(t){t.preventDefault(),e(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:K}),e.next=3,fetch(N,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({token:M("refreshToken")})}).then(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=6;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 6:throw new Error("Something went wrong");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){e&&e.success&&(B("accessToken"),B("refreshToken"),localStorage.clear(),t({type:Z}))})).catch((function(){t({type:V})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:["\u0412\u044b\u0445\u043e\u0434 ",r&&n?Object(it.jsx)(dt,{}):null]})})]})},jt=r(51),bt=r.n(jt),pt=function(e){var t=e.newClasses,r=e.children,a=Object(n.useState)(!1),c=Object(rt.a)(a,2),o=c[0],s=c[1],i=o?"".concat(bt.a.dropdown," ").concat(bt.a.dropdownActive):"".concat(bt.a.dropdown);return Object(it.jsxs)("div",{className:"".concat(i," ").concat(t),onClick:function(){return s(!o)},children:[r,Object(it.jsx)("div",{className:"".concat(bt.a.dropdown__inner),children:Object(it.jsx)(_t,{})})]})},mt=r(86),ft=r.n(mt),Ot=r.p+"static/media/logo-mobile.31952265.svg",ht=function(){return Object(it.jsxs)(s.b,{to:"/",className:"logo ".concat(ft.a.logo),children:[Object(it.jsx)(nt.Logo,{}),Object(it.jsx)("img",{className:ft.a.logo__mobile,loading:"lazy",src:Ot,alt:"Stellar Burgers"})]})},gt=r(13),xt=r.n(gt),vt=function(){var e,t,r,a=Object(n.useState)(!1),c=Object(rt.a)(a,2),o=c[0],i=c[1],d=o?"".concat(xt.a.appHeader__collapse," ").concat(xt.a.appHeader__collapseActive):"".concat(xt.a.appHeader__collapse),u=$e((function(e){return e.user})),l=u.user,_=u.isLoggined;null!==localStorage.getItem("userData")&&(r=JSON.parse(localStorage.getItem("userData")||""));return Object(it.jsx)("header",{className:xt.a.appHeader,children:Object(it.jsxs)("div",{className:"".concat(xt.a.appHeader__container," pt-4 pb-4 pl-5 pr-5"),children:[Object(it.jsx)("div",{className:xt.a.appHeader__logo,children:Object(it.jsx)(ht,{})}),Object(it.jsx)("div",{className:d,children:Object(it.jsxs)("div",{className:xt.a.appHeader__menu,children:[Object(it.jsxs)("div",{className:xt.a.appHeader__head,children:[Object(it.jsx)("h2",{className:"".concat(xt.a.appHeader__title," text"),children:"\u041c\u0435\u043d\u044e"}),Object(it.jsx)("button",{className:xt.a.appHeader__close,onClick:function(){return i((function(e){return!e}))},children:Object(it.jsx)(nt.CloseIcon,{type:"secondary"})})]}),Object(it.jsxs)("div",{className:xt.a.appHeader__body,children:[Object(it.jsxs)(s.c,{exact:!0,className:"nav-link",activeClassName:"nav-link--active",to:"/",children:[Object(it.jsx)(nt.BurgerIcon,{type:"secondary"}),Object(it.jsxs)("span",{className:"ml-2",children:["\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 ",Object(it.jsx)("span",{className:xt.a.appHeader__btnTextBurgers,children:"\u0431\u0443\u0440\u0433\u0435\u0440\u043e\u0432"})]})]}),Object(it.jsxs)(s.c,{exact:!0,className:"nav-link",activeClassName:"nav-link--active",to:"/feed",children:[Object(it.jsx)(nt.ListIcon,{type:"secondary"}),Object(it.jsx)("span",{className:"ml-2",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]}),_?Object(it.jsx)(pt,{newClasses:"".concat(xt.a.appHeader__btn," ").concat(xt.a.appHeader__btnProfile),children:Object(it.jsxs)(nt.Button,{type:"secondary",size:"medium",children:[Object(it.jsx)(nt.ProfileIcon,{type:"secondary"}),Object(it.jsxs)("span",{className:"ml-2",children:[Object(it.jsx)("span",{children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"}),Object(it.jsx)("span",{className:xt.a.appHeader__email,children:null!==l||null!==(null===(e=r)||void 0===e?void 0:e.email)?(null===l||void 0===l?void 0:l.email)||(null===(t=r)||void 0===t?void 0:t.email):null})]}),Object(it.jsx)(ct.ArrowDownIcon,{type:"secondary"})]})}):Object(it.jsxs)(s.c,{exact:!0,className:"".concat(xt.a.appHeader__btn," ").concat(xt.a.appHeader__btnProfile," nav-link"),to:"/login",children:[Object(it.jsx)(nt.ListIcon,{type:"secondary"}),Object(it.jsx)("span",{className:"ml-2",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})}),Object(it.jsx)("button",{className:xt.a.appHeader__hamburger,onClick:function(e){return function(e){e.preventDefault(),i((function(e){return!e}))}(e)},children:Object(it.jsx)(at.MenuIcon,{type:"secondary"})})]})})},yt=r(87),Nt=r.n(yt),It=function(e){var t=e.children;return Object(it.jsx)("main",{className:Nt.a.main,children:Object(it.jsx)("section",{className:"container ".concat(Nt.a.main__container," pt-5"),children:t})})},Ct=r(117),wt=r.n(Ct),Et=function(e){var t=e.text;return Object(it.jsx)("h1",{className:"".concat(wt.a.title," text text_type_main-large mt-5 mb-5"),children:t})},St=r(61),kt=r(222),Dt=r(31),Tt=r.n(Dt),Lt=function(e){var t=e.item,r=e.openDataModal,a=Object(Ze.h)(),c=$e((function(e){return e.data})),o=c.items,i=c.bun,d=Object(n.useMemo)((function(){var e={};return o.forEach((function(t){e[t._id]||(e[t._id]=0),e[t._id]++})),i&&(e[i._id]=2),e}),[o,i]),u=Object(kt.a)({type:"item",item:Object(_.a)({},t),collect:function(e){return{isDragging:e.isDragging(),handlerId:e.getHandlerId()}},end:function(e,t){var r=t.getDropResult();e&&r&&console.info("You dropped ".concat(e.name))}}),l=Object(rt.a)(u,2),j=l[0].isDragging,b=l[1],p=j?.25:1;return Object(it.jsx)("div",{className:"".concat(Tt.a.burgerIngredient," mb-6"),style:{opacity:p},ref:b,children:Object(it.jsxs)(s.b,{onClick:r,className:Tt.a.burgerIngredient__item,to:{pathname:"/ingredients/".concat(t._id),state:{background:a}},children:[Object(it.jsxs)("picture",{className:Tt.a.burgerIngredient__pict,children:[d[t._id]&&Object(it.jsx)(nt.Counter,{count:d[t._id],size:"default"}),Object(it.jsx)("img",{className:Tt.a.burgerIngredient__img,loading:"lazy",src:t.image,alt:t.name})]}),Object(it.jsxs)("div",{className:Tt.a.burgerIngredient__content,children:[Object(it.jsxs)("div",{className:"".concat(Tt.a.burgerIngredient__price," text text_type_main-medium mb-2"),children:[Object(it.jsx)("span",{className:"".concat(Tt.a.burgerIngredient__value," mr-3"),children:t.price}),Object(it.jsx)(nt.CurrencyIcon,{type:"secondary"})]}),Object(it.jsx)("div",{className:"".concat(Tt.a.burgerIngredient__name," text"),children:t.name})]}),Object(it.jsx)("span",{className:Tt.a.burgerIngredient__add,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})},Rt=r(41),Ht=r.n(Rt),At=function(e){var t=e.categoryHeader,r=e.children;return Object(it.jsxs)("div",{className:Ht.a.category,children:[Object(it.jsx)("div",{className:"".concat(Ht.a.category__head," mb-6"),children:t&&Object(it.jsx)("h2",{className:"".concat(Ht.a.category__title),children:t})}),Object(it.jsx)("div",{className:Ht.a.category__body,children:Object(it.jsx)("div",{className:Ht.a.category__columns,children:r})})]})},Pt=r(221),Ft=r(42),Mt=r.n(Ft),Ut=function(){var e=$e((function(e){return e.data})).data,t=Object(n.useState)("bun"),r=Object(rt.a)(t,2),a=r[0],c=r[1],o=Object(n.useRef)(null),s=Object(n.useRef)(null),i=Object(n.useRef)(null),d=Object(n.useRef)(null),u=Object(St.a)({threshold:.1}),l=Object(rt.a)(u,2),_=l[0],j=l[1],b=Object(St.a)({threshold:.1}),p=Object(rt.a)(b,2),m=p[0],f=p[1],O=Object(St.a)({threshold:.1}),h=Object(rt.a)(O,2),g=h[0],x=h[1],v=function(){j?c("bun"):f?c("sauce"):x&&c("main")};Object(n.useEffect)((function(){v()}),[j,x,f]);var y=function(e,t){var r;c(e),null===t||void 0===t||null===(r=t.current)||void 0===r||r.scrollIntoView({block:"start",behavior:"smooth"})},N=Object(n.useMemo)((function(){return null===e||void 0===e?void 0:e.filter((function(e){return"bun"===e.type}))}),[e]),I=Object(n.useMemo)((function(){return null===e||void 0===e?void 0:e.filter((function(e){return"sauce"===e.type}))}),[e]),C=Object(n.useMemo)((function(){return null===e||void 0===e?void 0:e.filter((function(e){return"main"===e.type}))}),[e]),w={hidden:{opacity:0},show:{opacity:1}};return Object(it.jsx)("section",{className:"".concat(Mt.a.burgerIngredients),children:Object(it.jsxs)("div",{className:"tabs",children:[Object(it.jsxs)("div",{className:"tabs__list",children:[Object(it.jsx)(nt.Tab,{value:"bun",active:"bun"===a,onClick:function(){return y("bun",s)},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(it.jsx)(nt.Tab,{value:"sauce",active:"sauce"===a,onClick:function(){return y("sauce",i)},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(it.jsx)(nt.Tab,{value:"main",active:"main"===a,onClick:function(){return y("main",d)},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}),Object(it.jsx)("span",{className:"tabs__line"})]}),Object(it.jsxs)(Pt.a.div,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.3}}},initial:"hidden",animate:"show",className:"".concat(Mt.a.burgerIngredients__box," mt-10 scrollbar-vertical"),onChange:v,ref:o,children:[Object(it.jsx)("div",{className:"".concat(Mt.a.burgerIngredients__inner),ref:_,children:Object(it.jsx)("div",{ref:s,children:Object(it.jsx)(At,{categoryHeader:"\u0411\u0443\u043b\u043a\u0438",children:N.map((function(e,t){return Object(it.jsx)(Pt.a.div,{className:"burger-ingredient-container",custom:t,variants:w,children:Object(it.jsx)(Lt,{item:e,openDataModal:Fe},e._id)},e._id)}))})})}),Object(it.jsx)("div",{className:"".concat(Mt.a.burgerIngredients__inner),ref:m,children:Object(it.jsx)("div",{ref:i,children:Object(it.jsx)(At,{categoryHeader:"\u0421\u043e\u0443\u0441\u044b",children:I.map((function(e,t){return Object(it.jsx)(Pt.a.div,{className:"burger-ingredient-container",custom:t,variants:w,children:Object(it.jsx)(Lt,{item:e,openDataModal:Fe},e._id)},e._id)}))})})}),Object(it.jsx)("div",{className:"".concat(Mt.a.burgerIngredients__inner),ref:g,children:Object(it.jsx)("div",{ref:d,children:Object(it.jsx)(At,{categoryHeader:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",children:C.map((function(e,t){return Object(it.jsx)(Pt.a.div,{className:"burger-ingredient-container",custom:t,variants:w,children:Object(it.jsx)(Lt,{item:e,openDataModal:Fe},e._id)},e._id)}))})})})]})]})})},Bt=r(223),Gt=r(34),zt=r.n(Gt),qt=r.p+"static/media/order-done.e036971b.png",Jt=r(119),Wt=r.n(Jt),Qt=function(e){var t,r,n=e.orderId;return Object(it.jsxs)("div",{className:zt.a.orderDetails,children:[Object(it.jsx)("div",{className:"".concat(zt.a.orderDetails__id," text text_type_digits-large"),children:Object(it.jsx)(Wt.a,{end:null!==n?Number(n):(t=1e5,r=999999,Math.floor(Math.random()*(r-t+1)+t))})}),Object(it.jsx)("h2",{className:"".concat(zt.a.orderDetails__title," text text_type_main-medium"),children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(it.jsx)("picture",{className:"".concat(zt.a.orderDetails__status),children:Object(it.jsx)("img",{className:"".concat(zt.a.orderDetails__img),src:qt,alt:""})}),Object(it.jsx)("p",{className:"".concat(zt.a.orderDetails__start," text"),children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(it.jsx)("p",{className:"".concat(zt.a.orderDetails__wait," text text_type_main-default"),children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},Xt=r(89),Yt=r.n(Xt),Kt=function(e){var t=e.id,r=e.idx,a=e.isLocked,c=e.text,o=e.thumbnail,s=e.price,i=e.draggable,d=Ve(),u=Object(n.useRef)(null),l=Object(kt.a)({type:"constructor",item:{idx:r},collect:function(e){return{isDragging:e.isDragging()}}}),_=Object(rt.a)(l,2),j=_[0].isDragging,b=_[1],p=Object(Bt.a)({accept:"constructor",collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){var n;if(u.current){var a=e.idx,c=r;if(a!==c){var o=null===(n=u.current)||void 0===n?void 0:n.getBoundingClientRect(),s=(o.bottom-o.top)/2,i=t.getClientOffset().y-o.top;a<c&&i<s||a>c&&i>s||(d(function(e,t){return{type:A,dragIndex:e,hoverIndex:t}}(a,c)),e.idx=c)}}}}),m=Object(rt.a)(p,2),f=m[0].handlerId;b((0,m[1])(u));var O=j?.5:1,h=function(){return t&&d({type:H,itemId:t})};return Object(it.jsxs)("div",{className:"".concat(Yt.a.burgerConstructorItem),style:{opacity:O},ref:u,"data-handler-id":f,children:[i&&Object(it.jsx)("button",{className:"".concat(Yt.a.burgerConstructorItem__drag),children:Object(it.jsx)(nt.DragIcon,{type:"secondary"})}),Object(it.jsx)(nt.ConstructorElement,{isLocked:a,text:c,thumbnail:o,price:s,handleClose:function(){return h()}})]})},Zt=r(62),Vt=r.n(Zt),$t=function(e){var t=e.totalPrice;return Object(it.jsxs)("div",{className:"".concat(Vt.a.totalPrice),children:[Object(it.jsx)("p",{className:"".concat(Vt.a.totalPrice__block," text text_type_digits-medium pr-2"),children:Object(it.jsx)("span",{className:"".concat(Vt.a.totalPrice__value),children:t})}),Object(it.jsx)(nt.CurrencyIcon,{type:"secondary"})]})},er=r(120),tr=r.n(er),rr=function(e){var t=e.handleOverlayClose,r=e.handleOverlayEnterClose;return Object(it.jsx)("div",{className:tr.a.modalOverlay,onClick:t,onKeyDown:r,onKeyPress:r})},nr=r(52),ar=r.n(nr),cr=document.querySelector("#modalPortal"),or=function(e){var t=e.modalHeader,r=void 0===t?null:t,a=e.handleClose,o=e.children;return Object(n.useEffect)((function(){var e=function(e){"Escape"!==e.key&&"NumpadEnter"!==e.code||(e.preventDefault(),a())};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[a]),cr&&Object(c.createPortal)(Object(it.jsxs)("div",{className:"".concat(ar.a.modal),children:[Object(it.jsx)(rr,{handleOverlayClose:a,handleOverlayEnterClose:a}),Object(it.jsxs)("div",{className:"".concat(ar.a.modal__content," scrollbar-vertical"),children:[Object(it.jsx)("button",{className:ar.a.modal__close,onClick:a,title:"Close"}),r&&Object(it.jsx)("h2",{className:"".concat(ar.a.modal__title," text text_type_main-large"),children:r}),o]})]}),cr)},sr=r(53),ir=r.n(sr),dr=r.p+"static/media/error-pict.bb48d426.jpg",ur=function(){return Object(it.jsxs)("div",{className:ir.a.error,children:[Object(it.jsx)("h2",{className:ir.a.error__title,children:"\u041e\u0448\u0438\u0431\u043a\u0430"}),Object(it.jsx)("h3",{className:ir.a.error__subtitle,children:"\u0423\u0432\u044b, \u043d\u043e \u044d\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0433\u0434\u0435-\u0442\u043e \u0437\u0430\u0442\u0435\u0440\u044f\u043b\u0430\u0441\u044c \u0432 \u0433\u0430\u043b\u0430\u043a\u0442\u0438\u043a\u0435 \u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0430"}),Object(it.jsx)("img",{className:ir.a.error__img,src:dr,alt:"Error"})]})},lr=r(17),_r=r.n(lr),jr=function(){var e=Ve(),t=$e((function(e){return e.data})),r=t.items,a=t.bun,c=t.hasError,o=$e((function(e){return e.orderNumber})),i=o.orderId,d=o.itemsId,u=o.isLoading,l=$e((function(e){return e.modalOrder})).isModalOrderOpened,_=$e((function(e){return e.user})).isLoggined,j=Object(Ze.g)(),m=Object(n.useMemo)((function(){var e=a?2*a.price:0;return(r?r.reduce((function(e,t){return e+t.price}),0):0)+e}),[r,a]);Object(n.useEffect)((function(){var t=r.map((function(e){return e._id}));a&&t.push(a._id),e(function(e){return{type:ve,itemsId:e}}(t))}),[e,r,a]);var f=function(t){switch(t.type){case"bun":return e(function(e){return{type:L,bun:e}}(t));default:return e(function(e){return{type:R,item:e,constructorItemId:e}}(t))}},O=Object(Bt.a)({accept:"item",drop:function(e){f(e)},collect:function(e){return{isHover:e.isOver(),canDrop:e.canDrop()}}}),g=Object(rt.a)(O,2),x=g[0],v=x.canDrop,y=x.isHover,N=g[1],I=v&&y,C="#131316";I?C="#0D0D2A":v&&(C="#333");var w=function(e){return I?"\u041e\u0442\u043f\u0443\u0441\u0442\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c":e},E={ingredients:d},S=u?Object(it.jsx)(dt,{}):null;return Object(it.jsxs)("section",{className:"".concat(_r.a.burgerConstructor),children:[Object(it.jsx)("div",{className:"".concat(_r.a.burgerConstructor__inner),ref:N,children:a||(null===r||void 0===r?void 0:r.length)>0?Object(it.jsxs)(it.Fragment,{children:[null!==a?a&&Object(it.jsxs)("div",{className:"".concat(_r.a.burgerConstructor__head),children:[Object(it.jsx)("button",{className:"".concat(_r.a.burgerConstructor__drag)}),Object(it.jsx)(nt.ConstructorElement,{type:"top",isLocked:!0,text:"".concat(a.name," (\u0432\u0435\u0440\u0445)"),thumbnail:a.image,price:a.price})]}):Object(it.jsx)("div",{className:_r.a.burgerConstructor__preview,"data-position":"top",style:{backgroundColor:C},children:w("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u0443\u043b\u043e\u0447\u043a\u0443 (\u0432\u0432\u0435\u0440\u0445)")}),r.length?Object(it.jsx)("div",{className:"".concat(_r.a.burgerConstructor__body," scrollbar-vertical"),children:r.map((function(e,t){var r=e.constructorItemId,n=e.name,a=e.image,c=e.price;return Object(it.jsx)(Kt,{id:r,idx:t,text:n,thumbnail:a,price:c,draggable:!0},t)}))}):Object(it.jsx)("div",{className:_r.a.burgerConstructor__preview,style:{backgroundColor:C},children:w("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u0447\u0438\u043d\u043a\u0443")}),null!==a?a&&Object(it.jsxs)("div",{className:"".concat(_r.a.burgerConstructor__foot),children:[Object(it.jsx)("button",{className:"".concat(_r.a.burgerConstructor__drag)}),Object(it.jsx)(nt.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(a.name," (\u043d\u0438\u0437)"),thumbnail:a.image,price:a.price})]}):Object(it.jsx)("div",{className:_r.a.burgerConstructor__preview,style:{backgroundColor:C},"data-position":"bottom",children:w("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u0443\u043b\u043e\u0447\u043a\u0443 (\u043d\u0438\u0437)")})]}):Object(it.jsx)("div",{className:_r.a.burgerConstructor__previews,children:Object(it.jsx)("div",{className:_r.a.burgerConstructor__preview,style:{backgroundColor:C},children:w("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b")})})}),Object(it.jsxs)("div",{className:"".concat(_r.a.burgerConstructor__bottom," pt-10 pb-10"),children:[Object(it.jsx)("div",{className:"".concat(_r.a.burgerConstructor__total," mr-10"),children:Object(it.jsx)($t,{totalPrice:m})}),Object(it.jsx)("div",{className:_r.a.burgerConstructor__order,children:_?a&&r.length>0&&Object(it.jsxs)(nt.Button,{type:"primary",size:"medium",onClick:function(){_?e(function(e){return function(){var t=Object(p.a)(b.a.mark((function t(r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:he}),t.next=3,fetch(h,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:"Bearer ".concat(M("accessToken"))},body:JSON.stringify(e)}).then(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=6;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 6:throw new Error("Something went wrong");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){e&&e.success&&r({type:ge,orderId:e.order.number})})).catch((function(){r({type:xe})}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(E)):j.replace("/login"),e({type:Ue})},children:["\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437 ",S]}):a&&r.length>0&&Object(it.jsxs)(s.b,{to:"/login",className:"form__link text text_type_main-medium pr-3",style:{color:"#ffffff"},children:["\u0412\u043e\u0439\u0442\u0438 ",S]})})]}),l&&Object(it.jsx)(or,{handleClose:function(){e({type:Be}),e({type:P})},children:u?Object(it.jsxs)("h2",{children:["\u041e\u0444\u043e\u0440\u043c\u043b\u044f\u0435\u043c \u0437\u0430\u043a\u0430\u0437 ",Object(it.jsx)(dt,{})]}):c?Object(it.jsx)(ur,{}):Object(it.jsx)(Qt,{orderId:i})})]})},br=r(12),pr=r.n(br),mr=function(){var e=Object(Ze.i)().id,t=$e((function(e){return null===e||void 0===e?void 0:e.data})).data.find((function(t){return t._id===e}))||{},r=t.image_large,n=t.name,a=t.calories,c=t.proteins,o=t.fat,s=t.carbohydrates;return Object(it.jsxs)("div",{className:pr.a.ingredientDetails,children:[Object(it.jsx)("h2",{className:"".concat(pr.a.ingredientDetails__title," text text_type_main-large"),children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(it.jsxs)("div",{className:pr.a.ingredientDetails__body,children:[Object(it.jsx)("picture",{className:"".concat(pr.a.ingredientDetails__pict," mb-4"),children:Object(it.jsx)("img",{className:pr.a.ingredientDetails__img,loading:"lazy",src:r,alt:n})}),Object(it.jsx)("h3",{className:"".concat(pr.a.ingredientDetails__name," text text_type_main-medium"),children:n}),Object(it.jsxs)("ul",{className:"".concat(pr.a.ingredientDetails__list," text_color_inactive"),children:[Object(it.jsxs)("li",{className:pr.a.ingredientDetails__item,children:[Object(it.jsx)("span",{className:pr.a.ingredientDetails__text,children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(it.jsx)("span",{className:"".concat(pr.a.ingredientDetails__value," text text_type_digits-default mt-2"),children:a})]}),Object(it.jsxs)("li",{className:pr.a.ingredientDetails__item,children:[Object(it.jsx)("span",{className:pr.a.ingredientDetails__text,children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(it.jsx)("span",{className:"".concat(pr.a.ingredientDetails__value," text text_type_digits-default mt-2"),children:c})]}),Object(it.jsxs)("li",{className:pr.a.ingredientDetails__item,children:[Object(it.jsx)("span",{className:pr.a.ingredientDetails__text,children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(it.jsx)("span",{className:"".concat(pr.a.ingredientDetails__value," text text_type_digits-default mt-2"),children:o})]}),Object(it.jsxs)("li",{className:pr.a.ingredientDetails__item,children:[Object(it.jsx)("span",{className:pr.a.ingredientDetails__text,children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(it.jsx)("span",{className:"".concat(pr.a.ingredientDetails__value," text text_type_digits-default mt-2"),children:s})]})]})]})]})},fr=r(121),Or=r.n(fr),hr=function(){return Object(it.jsx)("div",{className:Or.a.loader})},gr=r(29),xr=function(e){var t=e.children,r=Object(gr.a)(e,["children"]),n=$e((function(e){return e.user})).isLoggined;return Object(it.jsx)(Ze.b,Object(_.a)(Object(_.a)({},r),{},{render:function(e){var r,a=e.location.state;return n?Object(it.jsx)(Ze.a,{to:(null===a||void 0===a||null===(r=a.from)||void 0===r?void 0:r.pathname)||"/"}):t}}))},vr=function(e){var t=e.children,r=Object(gr.a)(e,["children"]),n=$e((function(e){return e.user})).isLoggined;return Object(it.jsx)(Ze.b,Object(_.a)(Object(_.a)({},r),{},{render:function(e){var r=e.location;return n?t:Object(it.jsx)(Ze.a,{to:{pathname:"/login",state:{from:r}}})}}))},yr=function(e){var t=e.children,r=Object(gr.a)(e,["children"]),n=$e((function(e){return e.user})).isLoggined;return Object(it.jsx)(Ze.b,Object(_.a)(Object(_.a)({},r),{},{render:function(e){var r=e.location.state;return n||"/forgot-password"!==String(null===r||void 0===r?void 0:r.from)?Object(it.jsx)(Ze.a,{to:"/"}):t}}))},Nr=r(26),Ir=r(63),Cr=r.n(Ir),wr=function(e){var t=e.icon,r=e.onIconClick,n=e.value,a=e.placeholder,c=e.onChange,o=e.type,s=Object(gr.a)(e,["icon","onIconClick","value","placeholder","onChange","type"]),i=t?Object(it.jsx)(t,{onClick:r,className:Cr.a.inputContainer}):null;return Object(it.jsxs)("div",{className:Cr.a.inputContainer,children:[Object(it.jsx)("input",Object(_.a)({className:Cr.a.input,type:o,value:n,placeholder:a,onChange:c},s)),i]})},Er=function(e){return Object(it.jsx)("button",{className:"form__icon",onClick:e.onClick,children:Object(it.jsx)(nt.ShowIcon,{type:"primary"})})},Sr=function(e){return Object(it.jsx)("button",{className:"form__icon",onClick:e.onClick,children:Object(it.jsx)(nt.HideIcon,{type:"primary"})})},kr=function(e){e.type;var t=Object(gr.a)(e,["type"]),r=Object(n.useState)(!1),a=Object(rt.a)(r,2),c=a[0],o=a[1];return Object(it.jsx)(wr,Object(_.a)(Object(_.a)({},t),{},{type:c?"text":"password",icon:c?Er:Sr,onIconClick:function(){return o(!c)}}))},Dr=r(90),Tr=r.n(Dr),Lr=function(){var e=Ve(),t=$e((function(e){return e.user})).isLoading,r=Object(n.useState)({name:"",email:"",password:""}),a=Object(rt.a)(r,2),c=a[0],o=a[1],i=function(e){var t=e.target.value,r=e.target.name;o(Object(_.a)(Object(_.a)({},c),{},Object(Nr.a)({},r,t)))};return Object(it.jsx)("div",{className:"".concat(Tr.a.pageRegister),children:Object(it.jsx)("div",{className:Tr.a.container,children:Object(it.jsxs)("form",{className:"form",action:"#",method:"POST",onSubmit:function(t){var r;t.preventDefault(),e((r=c,function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:q}),e.next=3,fetch(v,{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=6;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 6:throw new Error("Something went wrong");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){e&&e.success&&(_e(e),t({type:J,user:e.user}))})).catch((function(){t({type:W})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(it.jsxs)("div",{className:"form__head",children:[Object(it.jsx)("div",{className:"form__logo",children:Object(it.jsx)(ht,{})}),Object(it.jsx)("h1",{className:"form__title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]}),Object(it.jsxs)("div",{className:"form__body",children:[Object(it.jsx)(wr,{type:"text",name:"name",value:c.name,placeholder:"\u0418\u043c\u044f",onChange:i,required:!0}),Object(it.jsx)(wr,{type:"email",name:"email",value:c.email,placeholder:"Email",onChange:i,required:!0}),Object(it.jsx)(kr,{type:"password",name:"password",value:c.password,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:i,required:!0}),Object(it.jsx)("div",{className:"form__submit",children:Object(it.jsxs)(nt.Button,{type:"primary",size:"medium",children:["\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f ",t?Object(it.jsx)(dt,{}):null]})})]}),Object(it.jsx)("div",{className:"form__foot",children:Object(it.jsxs)("p",{className:"form__text",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(it.jsx)(s.b,{to:"/login",className:"form__link",children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})})})},Rr=r(91),Hr=r.n(Rr),Ar=function(){var e=Ve(),t=$e((function(e){return e.user})).isLoading,r=Object(n.useState)({email:"",password:""}),a=Object(rt.a)(r,2),c=a[0],o=a[1],i=function(e){var t=e.target.value,r=e.target.name;o(Object(_.a)(Object(_.a)({},c),{},Object(Nr.a)({},r,t)))};return Object(it.jsx)("div",{className:"".concat(Hr.a.pageLogin),children:Object(it.jsx)("div",{className:Hr.a.container,children:Object(it.jsxs)("form",{className:"form form--login",action:"#",method:"POST",onSubmit:function(t){var r;t.preventDefault(),e((r=c,function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Q}),e.next=3,fetch(y,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=6;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 6:throw new Error("Something went wrong");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){e&&e.success&&(_e(e),localStorage.setItem("userData",JSON.stringify(e.user)),t({type:X,user:e.user}))})).catch((function(){t({type:Y})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(it.jsxs)("div",{className:"form__head",children:[Object(it.jsx)("div",{className:"form__logo",children:Object(it.jsx)(ht,{})}),Object(it.jsx)("h1",{className:"form__title",children:"\u0412\u0445\u043e\u0434"})]}),Object(it.jsxs)("div",{className:"form__body",children:[Object(it.jsx)(wr,{type:"email",name:"email",value:c.email,placeholder:"Email",onChange:i,required:!0}),Object(it.jsx)(kr,{type:"password",name:"password",value:c.password,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:i,required:!0}),Object(it.jsx)("div",{className:"form__submit",children:Object(it.jsxs)(nt.Button,{type:"primary",size:"medium",children:["\u0412\u043e\u0439\u0442\u0438 ",t?Object(it.jsx)(dt,{}):null]})})]}),Object(it.jsxs)("div",{className:"form__foot",children:[Object(it.jsxs)("p",{className:"form__text",children:["\u0412\u044b\xa0\u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?",Object(it.jsx)(s.b,{to:"/register",className:"form__link",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(it.jsxs)("p",{className:"form__text",children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(it.jsx)(s.b,{to:"/forgot-password",className:"form__link",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})]})})})},Pr=r(92),Fr=r.n(Pr),Mr=function(){var e=Ve(),t=Object(Ze.h)(),r=Object(n.useState)({email:""}),a=Object(rt.a)(r,2),c=a[0],o=a[1],i=$e((function(e){return e.user})),d=i.isLoading;return i.isForgotPasswordRequest?Object(it.jsx)(Ze.a,{to:{pathname:"/reset-password",state:{from:t.pathname}}}):Object(it.jsx)("div",{className:"".concat(Fr.a.pageForgotPassword),children:Object(it.jsx)("div",{className:Fr.a.container,children:Object(it.jsxs)("form",{className:"form",action:"#",method:"POST",onSubmit:function(t){var r;t.preventDefault(),localStorage.setItem("userEmailForgotPassword",c.email),e((r=c,function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:ce}),e.next=3,fetch(g,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=6;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 6:throw new Error("Something went wrong");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){e&&e.success&&t({type:oe})})).catch((function(){t({type:se})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(it.jsxs)("div",{className:"form__head",children:[Object(it.jsx)("div",{className:"form__logo",children:Object(it.jsx)(ht,{})}),Object(it.jsx)("h1",{className:"form__title",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"})]}),Object(it.jsxs)("div",{className:"form__body",children:[Object(it.jsx)(wr,{type:"email",name:"email",value:c.email,placeholder:"Email",onChange:function(e){var t=e.target.value,r=e.target.name;o(Object(_.a)(Object(_.a)({},c),{},Object(Nr.a)({},r,t)))},required:!0}),Object(it.jsx)("div",{className:"form__submit",children:Object(it.jsxs)(nt.Button,{type:"primary",size:"medium",children:["\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c ",d?Object(it.jsx)(dt,{}):null]})})]}),Object(it.jsx)("div",{className:"form__foot",children:Object(it.jsxs)("p",{className:"form__text",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(it.jsx)(s.b,{to:"/login",className:"form__link",children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})})})},Ur=r(93),Br=r.n(Ur),Gr=function(){var e=Ve(),t=Object(n.useState)({password:"",token:""}),r=Object(rt.a)(t,2),a=r[0],c=r[1],o=localStorage.getItem("userEmailForgotPassword"),i=$e((function(e){return e.user})),d=i.isLoading,u=function(e){var t=e.target.value,r=e.target.name;c(Object(_.a)(Object(_.a)({},a),{},Object(Nr.a)({},r,t)))};return i.isResetPasswordRequest&&null!==o?Object(it.jsx)(Ze.a,{to:"/login"}):Object(it.jsx)("div",{className:"".concat(Br.a.pageResetPassword),children:Object(it.jsx)("div",{className:Br.a.container,children:Object(it.jsxs)("form",{className:"form",action:"#",method:"POST",onSubmit:function(t){var r,n;t.preventDefault(),e((r=a,function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:ie}),e.next=3,fetch(x,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r,n)}).then(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=6;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 6:throw new Error("Something went wrong");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){e&&e.success&&t({type:de})})).catch((function(){t({type:ue})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(it.jsxs)("div",{className:"form__head",children:[Object(it.jsx)("div",{className:"form__logo",children:Object(it.jsx)(ht,{})}),Object(it.jsx)("h1",{className:"form__title",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"})]}),Object(it.jsxs)("div",{className:"form__body",children:[Object(it.jsx)(kr,{type:"password",name:"password",value:a.password,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:u,required:!0}),Object(it.jsx)(wr,{type:"text",name:"token",value:a.token,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",onChange:u,required:!0}),Object(it.jsx)("div",{className:"form__submit",children:Object(it.jsxs)(nt.Button,{type:"primary",size:"medium",children:["\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c ",d?Object(it.jsx)(dt,{}):null]})})]}),Object(it.jsx)("div",{className:"form__foot",children:Object(it.jsxs)("p",{className:"form__text",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(it.jsx)(s.b,{to:"/login",className:"form__link",children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})})})},zr=r(59),qr=r.n(zr),Jr=(r(211),function(e){return qr.a.locale("ru"),"".concat(qr()(e).calendar()," i-GMT+3")}),Wr=r(18),Qr=r.n(Wr),Xr=function(e){var t=e._id,r=e.number,a=e.name,c=e.status,o=e.ingredients,i=e.createdAt,d=e.openFeedModal,u=Ve(),l=Object(Ze.h)(),_=Object(Ze.j)().url,j=$e((function(e){return e.data})).data,b=Jr(i);Object(n.useEffect)((function(){u(we(r))}),[u,r]);var p=Object(n.useMemo)((function(){return null===o||void 0===o?void 0:o.reduce((function(e,t){return e[t]?++e[t]:e[t]=1,e}),{})}),[o]),m=Object(n.useMemo)((function(){return null===j||void 0===j?void 0:j.filter((function(e){return o.includes(e._id)}))}),[o,j]),f=Object(n.useMemo)((function(){return null===m||void 0===m?void 0:m.map((function(e){return{_id:e._id,type:e.type,name:e.name,count:p[e._id],price:e.price*p[e._id]}}))}),[m]),O=Object(n.useMemo)((function(){return f.reduce((function(e,t){return"bun"===t.type?e+2*t.price:e+t.price}),0)}),[f]);return Object(it.jsxs)(s.b,{className:Qr.a.order,to:{pathname:"".concat(_,"/").concat(r),state:{background:l}},onClick:d,children:[Object(it.jsxs)("div",{className:Qr.a.order__head,children:[Object(it.jsxs)("div",{className:"".concat(Qr.a.order__id," text text_type_digits-default"),children:["#",r]}),Object(it.jsx)("div",{className:Qr.a.order__date,children:b})]}),Object(it.jsx)("h2",{className:Qr.a.order__title,children:a}),Object(it.jsx)("div",{className:"".concat(Qr.a.order__status,"}"),style:{color:z(c)},children:G(c)}),Object(it.jsxs)("div",{className:Qr.a.order__body,children:[Object(it.jsx)("div",{className:Qr.a.order__picts,children:function(e){var t=[];return e.forEach((function(r,n){e.length>5&&5===n?t.push(Object(it.jsxs)("picture",{className:Qr.a.order__pict,children:[Object(it.jsx)("img",{className:Qr.a.order__img,src:r.image_mobile,loading:"lazy",alt:r.name}),Object(it.jsxs)("span",{className:Qr.a.order__amount,children:["+",e.length-5]})]},r._id)):t.push(Object(it.jsx)("picture",{className:Qr.a.order__pict,children:Object(it.jsx)("img",{className:Qr.a.order__img,src:r.image_mobile,loading:"lazy",alt:r.name})},r._id))})),t}(m)}),Object(it.jsxs)("div",{className:Qr.a.order__block,children:[Object(it.jsx)("div",{className:"".concat(Qr.a.order__price," text text_type_digits-default"),children:O}),Object(it.jsx)(nt.CurrencyIcon,{type:"secondary"})]})]})]},t)},Yr=r(122),Kr=r.n(Yr),Zr=function(){var e=$e((function(e){return e.feed})).orders;return Object(it.jsx)(it.Fragment,{children:(null===e||void 0===e?void 0:e.length)>0&&Object(it.jsx)("div",{className:Kr.a.orderList,children:null===e||void 0===e?void 0:e.map((function(e){return Object(it.jsx)(Xr,Object(_.a)({},e),e._id)}))})})},Vr=r(16),$r=r.n(Vr),en=function(){var e=$e((function(e){return e.feed})),t=e.total,r=e.totalToday,n=e.orders,a=[],c=[];return null===n||void 0===n||n.forEach((function(e){return"done"===e.status?a.push(e):c.push(e)})),Object(it.jsxs)("div",{className:$r.a.feedInfo,children:[Object(it.jsxs)("div",{className:$r.a.feedInfo__statuses,children:[Object(it.jsxs)("div",{className:$r.a.feedInfo__status,children:[Object(it.jsx)("h3",{className:"".concat($r.a.feedInfo__title," text text_type_main-medium"),children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(it.jsx)("ul",{className:"".concat($r.a.feedInfo__ready," scrollbar-vertical"),children:a.map((function(e){var t=e._id,r=e.number;return Object(it.jsx)("li",{className:"".concat($r.a.feedInfo__item," text text_type_digits-default"),children:r},t)}))})]}),Object(it.jsxs)("div",{className:$r.a.feedInfo__status,children:[Object(it.jsx)("h3",{className:"".concat($r.a.feedInfo__title," text text_type_main-medium"),children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(it.jsx)("ul",{className:"".concat($r.a.feedInfo__work," scrollbar-vertical"),children:c.map((function(e){var t=e._id,r=e.number;return Object(it.jsx)("li",{className:"".concat($r.a.feedInfo__item," text text_type_digits-default"),children:r},t)}))})]})]}),Object(it.jsxs)("div",{className:$r.a.feedInfo__block,children:[Object(it.jsx)("h3",{className:"".concat($r.a.feedInfo__title," text text_type_main-medium"),children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(it.jsx)("div",{className:"".concat($r.a.feedInfo__num," text text_type_digits-large"),children:t})]}),Object(it.jsxs)("div",{className:$r.a.feedInfo__block,children:[Object(it.jsx)("h3",{className:"".concat($r.a.feedInfo__title," text text_type_main-medium"),children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(it.jsx)("div",{className:"".concat($r.a.feedInfo__num," text text_type_digits-large"),children:r})]})]})},tn=r(123),rn=r.n(tn),nn=function(){var e=Ve(),t=$e((function(e){return e.feed})).orders;return Object(n.useEffect)((function(){return e(Qe(S)),function(){return e(Xe())}}),[e]),Object(it.jsxs)("div",{className:"content",children:[Object(it.jsx)(Et,{text:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),(null===t||void 0===t?void 0:t.length)>0?Object(it.jsxs)("div",{className:"content__body",children:[Object(it.jsx)("div",{className:"".concat(rn.a.feed," scrollbar-vertical"),children:Object(it.jsx)(Zr,{})}),Object(it.jsx)(en,{})]}):Object(it.jsx)(hr,{})]})},an=r(14),cn=r.n(an),on=function(){var e=Ve(),t=Object(Ze.h)(),r=Object(Ze.i)().id,a=$e((function(e){return e.data})).data,c=$e((function(e){return e.feed})),o=c.orders,s=c.wsConnected,i=o.find((function(e){return e.number===Number(r)}))||{},d=i.number,u=i.name,l=i.status,_=i.ingredients,j=i.createdAt,b=Jr(j),p=M("accessToken");Object(n.useEffect)((function(){return t.pathname==="/feed/".concat(r)&&e(Qe(S)),t.pathname==="/profile/orders/".concat(r)&&e(Qe("".concat(E).concat(p))),function(){return e(Xe())}}),[e]),Object(n.useEffect)((function(){e(we(r))}),[e,r]);var m=Object(n.useMemo)((function(){return null===_||void 0===_?void 0:_.reduce((function(e,t){return e[t]?++e[t]:e[t]=1,e}),{})}),[_]),f=Object(n.useMemo)((function(){return null===a||void 0===a?void 0:a.filter((function(e){return null===_||void 0===_?void 0:_.includes(e._id)}))}),[_,a]),O=Object(n.useMemo)((function(){return null===f||void 0===f?void 0:f.map((function(e){return{_id:e._id,type:e.type,name:e.name,count:"bun"===e.type?2:m[e._id],price:e.price*m[e._id],image_mobile:e.image_mobile}}))}),[f]),h=Object(n.useMemo)((function(){return O.reduce((function(e,t){return"bun"===t.type?e+2*t.price:e+t.price}),0)}),[O]);return Object(it.jsx)(it.Fragment,{children:s?Object(it.jsxs)("div",{className:cn.a.orderInfo,children:[Object(it.jsxs)("div",{className:"".concat(cn.a.orderInfo__id," text text_type_digits-default"),children:["#",d]}),Object(it.jsx)("h1",{className:cn.a.orderInfo__title,children:u}),Object(it.jsx)("p",{className:"".concat(cn.a.orderInfo__status),style:{color:z(l)},children:G(l)}),Object(it.jsx)("p",{className:"".concat(cn.a.orderInfo__structure," text text_type_main-medium"),children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(it.jsx)("ul",{className:"".concat(cn.a.orderInfo__list," scrollbar-vertical"),children:null===O||void 0===O?void 0:O.map((function(e){var t=e._id,r=e.image_mobile,n=e.name,a=e.price,c=e.type,o=e.count;return Object(it.jsxs)("li",{className:cn.a.orderInfo__item,children:[Object(it.jsxs)("div",{className:cn.a.orderInfo__box,children:[Object(it.jsx)("div",{className:cn.a.orderInfo__pict,children:Object(it.jsx)("img",{className:cn.a.orderInfo__img,src:r,alt:n,loading:"lazy"})}),Object(it.jsx)("div",{className:cn.a.orderInfo__name,children:n})]}),Object(it.jsxs)("div",{className:cn.a.orderInfo__block,children:[Object(it.jsxs)("div",{className:"".concat(cn.a.orderInfo__price," text text_type_digits-default"),children:[Object(it.jsx)("span",{children:o})," x ",Object(it.jsx)("span",{children:"bun"!==c?a/o:a})]}),Object(it.jsx)(nt.CurrencyIcon,{type:"secondary"})]})]},t)}))}),Object(it.jsxs)("div",{className:cn.a.orderInfo__foot,children:[Object(it.jsx)("div",{className:cn.a.orderInfo__date,children:b}),Object(it.jsxs)("div",{className:cn.a.orderInfo__block,children:[Object(it.jsx)("div",{className:"".concat(cn.a.orderInfo__price," text text_type_digits-default"),children:h}),Object(it.jsx)(nt.CurrencyIcon,{type:"secondary"})]})]})]}):Object(it.jsx)(hr,{})})},sn=r(124),dn=r.n(sn),un=function(){return Object(it.jsx)("div",{className:"".concat(dn.a.pageFeedCard),children:Object(it.jsx)(on,{})})},ln=r(64),_n=r.n(ln),jn=function(e){var t=e.children;return Object(it.jsx)("div",{className:"".concat(_n.a.pageProfile),children:Object(it.jsxs)("div",{className:_n.a.container,children:[Object(it.jsx)("div",{className:_n.a.left,children:Object(it.jsx)(_t,{})}),t]})})},bn=r(36),pn=r.n(bn),mn=function(){var e=Ve(),t=$e((function(e){return e.user})),r=t.user,a=t.isLoading,c=JSON.parse(localStorage.getItem("userData")||""),o=null===c||void 0===c?void 0:c.name,s=null===c||void 0===c?void 0:c.email,i=Object(n.useState)(!1),d=Object(rt.a)(i,2),u=d[0],l=d[1],j=Object(n.useState)(!1),m=Object(rt.a)(j,2),f=m[0],O=m[1],h=Object(n.useState)(!1),g=Object(rt.a)(h,2),x=g[0],v=g[1],y=Object(n.useState)({name:"",email:"",password:""}),N=Object(rt.a)(y,2),I=N[0],w=N[1];Object(n.useEffect)((function(){e(me())}),[e]),Object(n.useEffect)((function(){(r||null!==s)&&w((function(e){return Object(_.a)(Object(_.a)({},e),{},{name:(null===r||void 0===r?void 0:r.name)||o,email:(null===r||void 0===r?void 0:r.email)||s})})),console.log(r)}),[r]);var E=function(e){var t=e.target.value,r=e.target.name;w(Object(_.a)(Object(_.a)({},I),{},Object(Nr.a)({},r,t)))},S=function(e){e.preventDefault(),w({name:(null===r||void 0===r?void 0:r.name)||o,email:(null===r||void 0===r?void 0:r.email)||s,password:""})};return Object(it.jsxs)("div",{className:pn.a.profileForm,children:[Object(it.jsx)("div",{className:pn.a.right,children:Object(it.jsxs)("form",{className:pn.a.form,action:"#",method:"POST",onSubmit:function(t){var r;t.preventDefault(),e((r=I,function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:re}),e.next=3,pe(C,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",authorization:"Bearer ".concat(M("accessToken"))},body:JSON.stringify(r)}).then(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=6;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 6:throw new Error("Something went wrong");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){e&&e.success&&(e.accessToken&&_e(e),t({type:ne,user:e.user}))})).catch((function(){t({type:ae})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(it.jsxs)("div",{className:pn.a.formBody,children:[Object(it.jsx)(nt.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:E,onFocus:function(){return l(!0)},onBlur:function(){return l(!1)},icon:u?"CloseIcon":"EditIcon",value:I.name,name:"name",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"}),Object(it.jsx)(nt.Input,{type:"email",placeholder:"Email",onChange:E,onFocus:function(){return O(!0)},onBlur:function(){return O(!1)},icon:f?"CloseIcon":"EditIcon",value:I.email,name:"email",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"}),Object(it.jsx)(nt.Input,{type:"text",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:E,onFocus:function(){return v(!0)},onBlur:function(){return v(!1)},icon:x?"CloseIcon":"EditIcon",value:I.password,name:"password",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"})]}),Object(it.jsxs)("div",{className:pn.a.formFoot,children:[Object(it.jsx)(nt.Button,{type:"secondary",size:"medium",onClick:function(){return S},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(it.jsxs)(nt.Button,{type:"primary",size:"medium",children:["\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c ",a?Object(it.jsx)(dt,{}):null]})]})]})}),Object(it.jsxs)("div",{className:pn.a.info,children:["\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435",Object(it.jsx)("br",{}),"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"]})]})},fn=r(125),On=r.n(fn),hn=function(){var e=Ve(),t=M("accessToken");return Object(n.useEffect)((function(){return e(Qe("".concat(E).concat(t))),function(){return e(Xe())}}),[e]),Object(it.jsx)("div",{className:"".concat(On.a.pageOrderHistory," scrollbar-vertical"),children:Object(it.jsx)(Zr,{})})},gn=r(126),xn=r.n(gn),vn=function(){return Object(it.jsx)("div",{className:"".concat(xn.a.pageOrderHistoryCard),children:Object(it.jsx)(on,{})})},yn=r(37),Nn=r.n(yn),In=function(){return Object(it.jsx)("div",{className:Nn.a.page404,children:Object(it.jsxs)("div",{className:Nn.a.container,children:[Object(it.jsxs)("h1",{className:Nn.a.title,children:["\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u043d\u0430\xa0\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",Object(it.jsx)("span",{className:Nn.a.num,children:"404"})]}),Object(it.jsx)("p",{className:Nn.a.text,children:"\u0412\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0435\u0441\u044c \u0437\u0434\u0435\u0441\u044c, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u0432\u0432\u0435\u043b\u0438 \u0430\u0434\u0440\u0435\u0441 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0443\u0436\u0435 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u043b\u0438 \u0431\u044b\u043b\u0430 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0430 \u043f\u043e \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0430\u0434\u0440\u0435\u0441\u0443"}),Object(it.jsx)(s.b,{to:"/",className:Nn.a.link,children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"})]})})},Cn=r(127),wn=r.n(Cn),En=function(){var e=Ve(),t=Object(Ze.h)(),r=Object(Ze.g)(),a=$e((function(e){return e.data})),c=a.hasError,o=a.isLoading,s=("PUSH"===r.action||"REPLACE"===r.action)&&t.state&&t.state.background,i=M("accessToken"),d=function(){e({type:qe}),r.goBack()};return Object(n.useEffect)((function(){e(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:k}),e.next=3,fetch(O).then(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=6;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 6:throw new Error("Something went wrong");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){e&&e.success&&t({type:D,data:e.data})})).catch((function(){t({type:T})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i&&e(me())}),[e]),Object(it.jsxs)("div",{className:wn.a.app,children:[Object(it.jsx)(vt,{}),Object(it.jsxs)(It,{children:[Object(it.jsxs)(Ze.d,{location:s||t,children:[Object(it.jsx)(Ze.b,{path:"/",exact:!0,children:o?Object(it.jsx)(hr,{}):c?Object(it.jsx)(ur,{}):Object(it.jsx)(et.a,{backend:tt.a,children:Object(it.jsxs)("div",{className:"content",children:[Object(it.jsx)(Et,{text:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(it.jsxs)("div",{className:"content__body",children:[Object(it.jsx)(Ut,{}),Object(it.jsx)(jr,{})]})]})})}),Object(it.jsx)(Ze.b,{path:"/ingredients/:id",exact:!0,children:Object(it.jsx)(mr,{})}),Object(it.jsx)(xr,{path:"/register",exact:!0,children:Object(it.jsx)(Lr,{})}),Object(it.jsx)(xr,{path:"/login",exact:!0,children:Object(it.jsx)(Ar,{})}),Object(it.jsx)(xr,{path:"/forgot-password",exact:!0,children:Object(it.jsx)(Mr,{})}),Object(it.jsx)(yr,{path:"/reset-password",exact:!0,children:Object(it.jsx)(Gr,{})}),Object(it.jsx)(vr,{path:"/profile",exact:!0,children:Object(it.jsx)(jn,{children:Object(it.jsx)(mn,{})})}),Object(it.jsx)(vr,{path:"/profile/orders",exact:!0,children:Object(it.jsx)(jn,{children:Object(it.jsx)(hn,{})})}),Object(it.jsx)(vr,{path:"/profile/orders/:id",exact:!0,children:Object(it.jsx)(vn,{})}),Object(it.jsx)(Ze.b,{path:"/feed",exact:!0,children:Object(it.jsx)(nn,{})}),Object(it.jsx)(Ze.b,{path:"/feed/:id",exact:!0,children:Object(it.jsx)(un,{})}),Object(it.jsx)(Ze.b,{children:Object(it.jsx)(In,{})})]}),s&&Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(Ze.b,{path:"/ingredients/:id",exact:!0,children:Object(it.jsx)(or,{modalHeader:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",handleClose:function(){e({type:Pe}),r.goBack()},children:o?Object(it.jsx)(hr,{}):c?Object(it.jsx)(ur,{}):Object(it.jsx)(mr,{})})}),Object(it.jsx)(Ze.b,{path:"/feed/:id",exact:!0,children:Object(it.jsx)(or,{handleClose:d,children:o?Object(it.jsx)(hr,{}):c?Object(it.jsx)(ur,{}):Object(it.jsx)(un,{})})}),Object(it.jsx)(vr,{path:"/profile/orders/:id",exact:!0,children:Object(it.jsx)(or,{handleClose:d,children:o?Object(it.jsx)(hr,{}):c?Object(it.jsx)(ur,{}):Object(it.jsx)(vn,{})})})]})]})]})},Sn=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,224)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),c(e),o(e)}))};r(212);o.a.render(Object(it.jsx)(a.a.StrictMode,{children:Object(it.jsx)(i.a,{store:Ke,children:Object(it.jsx)(s.a,{children:Object(it.jsx)(En,{})})})}),document.getElementById("root")),Sn()},30:function(e,t,r){e.exports={menu:"menu_menu__3Wz6r",menu__link:"menu_menu__link__3NqIP",menu__linkActive:"menu_menu__linkActive__2SC_r"}},31:function(e,t,r){e.exports={burgerIngredient:"burger-ingredient_burgerIngredient__2dcIh",burgerIngredient__item:"burger-ingredient_burgerIngredient__item__CODr2",burgerIngredient__title:"burger-ingredient_burgerIngredient__title__1CuRs",burgerIngredient__pict:"burger-ingredient_burgerIngredient__pict__3Atr7",burgerIngredient__img:"burger-ingredient_burgerIngredient__img__1hIDT",burgerIngredient__price:"burger-ingredient_burgerIngredient__price__2O19H",burgerIngredient__value:"burger-ingredient_burgerIngredient__value__1NOhZ",burgerIngredient__name:"burger-ingredient_burgerIngredient__name__2KDhA",burgerIngredient__add:"burger-ingredient_burgerIngredient__add__FYTEg"}},34:function(e,t,r){e.exports={orderDetails:"order-details_orderDetails__2UzPA",orderDetails__id:"order-details_orderDetails__id__3znZJ",orderDetails__title:"order-details_orderDetails__title__YJ3v2",orderDetails__status:"order-details_orderDetails__status__J1uxM",orderDetails__img:"order-details_orderDetails__img__1D1qO",orderDetails__start:"order-details_orderDetails__start__1fcdu",orderDetails__wait:"order-details_orderDetails__wait__nzgf9"}},36:function(e,t,r){e.exports={right:"page-profile-form_right__2pUAX",form:"page-profile-form_form__3jcoF",formFoot:"page-profile-form_formFoot__Df6eg",info:"page-profile-form_info__21vsL"}},37:function(e,t,r){e.exports={page404:"page404_page404__jgPD4",container:"page404_container__28h-K",title:"page404_title__3ZC01",text:"page404_text__2RqFt",num:"page404_num__2oasK",link:"page404_link__3YRAU"}},41:function(e,t,r){e.exports={category:"burger-ingredients-category_category__bDM65",category__title:"burger-ingredients-category_category__title__1Gas6",category__columns:"burger-ingredients-category_category__columns__2-4wu",category__head:"burger-ingredients-category_category__head__3mILk"}},42:function(e,t,r){e.exports={burgerIngredients:"burger-ingredients_burgerIngredients__37LUH",burgerIngredients__box:"burger-ingredients_burgerIngredients__box__2Ui24",burgerIngredients__inner:"burger-ingredients_burgerIngredients__inner__3KPWZ"}},51:function(e,t,r){e.exports={dropdown:"dropdown_dropdown__2Fk6c",dropdown__inner:"dropdown_dropdown__inner__26IhT",menu__link:"dropdown_menu__link__1jb_S",dropdownActive:"dropdown_dropdownActive__27O5A"}},52:function(e,t,r){e.exports={modal:"modal_modal__3OJqu",modal__content:"modal_modal__content__QC7ap",animModal:"modal_animModal__3c7ib",modal__close:"modal_modal__close__2iQu-",modal__title:"modal_modal__title__3O-qw"}},53:function(e,t,r){e.exports={error:"error_error__WMNko",error__title:"error_error__title__3X04p",error__subtitle:"error_error__subtitle__3hckR",error__img:"error_error__img__2PAYu"}},62:function(e,t,r){e.exports={totalPrice:"total-price_totalPrice__3ADGZ",totalPrice__total:"total-price_totalPrice__total__PoPgB"}},63:function(e,t,r){e.exports={inputContainer:"input_inputContainer__2Oc2d",input:"input_input__1598Z",autofill:"input_autofill__2i3Hv"}},64:function(e,t,r){e.exports={container:"page-profile_container__3Dhow",left:"page-profile_left__3Vsh2"}},86:function(e,t,r){e.exports={logo:"logo_logo__5uf-o"}},87:function(e,t,r){e.exports={main:"main_main__2ms4H",main__container:"main_main__container__otL8n"}},89:function(e,t,r){e.exports={burgerConstructorItem:"burger-constructor-item_burgerConstructorItem__2kB2S",burgerConstructorItem__drag:"burger-constructor-item_burgerConstructorItem__drag__3Sqxq"}},90:function(e,t,r){},91:function(e,t,r){},92:function(e,t,r){},93:function(e,t,r){}},[[213,1,2]]]);
//# sourceMappingURL=main.3cb9dea7.chunk.js.map